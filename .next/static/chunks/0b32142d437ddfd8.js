(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57970,e=>{e.v({formBox:"form-module__mIo5rq__formBox",formContainer:"form-module__mIo5rq__formContainer",inputField:"form-module__mIo5rq__inputField",submitBtn:"form-module__mIo5rq__submitBtn"})},19486,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),o=e.i(71645),a=e.i(57970),r=e.i(92989),l=e.i(19295);let i=()=>{let{islog:e,setIslog:i}=(0,o.useContext)(l.default),s=(0,r.useRouter)(),n=async e=>{e.preventDefault();let t=e.currentTarget,o=t.email.value,a=t.password.value;if(!o||!a)return void alert("لطفاً ایمیل و پسورد خود را وارد کنید");try{let e=await fetch("/api/auth/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:a}),credentials:"include"});(await e.json()).success?s.push("/"):alert("ایمیل یا رمز اشتباه است");let t=await fetch("/api/getToken");if(await t.json())return i(!0)}catch(e){console.error(e),alert("خطا در ورود")}};return console.log(e),(0,t.jsx)("form",{className:a.default.formContainer,onSubmit:n,children:(0,t.jsxs)("div",{className:a.default.formBox,children:[(0,t.jsx)("input",{className:a.default.inputField,type:"text",placeholder:"ایمیل خود را وارد کنید",name:"email"}),(0,t.jsx)("input",{className:a.default.inputField,type:"password",placeholder:"پسوورد خود را وارد کنید",name:"password"}),(0,t.jsx)("button",{className:a.default.submitBtn,type:"submit",children:"ورود"})]})})}}]);