{"version":3,"sources":["turbopack:///[project]/app/ProductCard.module.css [app-ssr] (css module)","turbopack:///[project]/components/productCard/CartProduct.tsx","turbopack:///[project]/app/shop/CartItem.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"ProductCard-module__LiIe2G__card\",\n  \"cardButton\": \"ProductCard-module__LiIe2G__cardButton\",\n  \"cardDesc\": \"ProductCard-module__LiIe2G__cardDesc\",\n  \"cardImage\": \"ProductCard-module__LiIe2G__cardImage\",\n  \"cardPrice\": \"ProductCard-module__LiIe2G__cardPrice\",\n  \"grid\": \"ProductCard-module__LiIe2G__grid\",\n});\n","\"use client\";\r\nimport styles from \"@/app/ProductCard.module.css\";\r\nimport Image from \"next/image\";\r\n\r\ninterface ProductProps {\r\n  _id: string;\r\n  name: string;\r\n  image: string;\r\n  price: string;\r\n  desc: string;\r\n  email:string;\r\n  category: string;\r\n}\r\n\r\nconst CartProduct: React.FC<ProductProps> = ({ _id, name, image, price, email,desc }:ProductProps ) => {\r\n  const handleDelete = async () => {\r\n    try {\r\n\r\n      const res = await fetch(\"/api/delete\", {\r\n        method: \"DELETE\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify({ productId: _id }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        window.location.reload();\r\n      } else {\r\n        alert(data.error || \"خطایی در حذف محصول رخ داد\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"خطا در حذف محصول:\", err);\r\n      alert(\"مشکلی پیش آمد، لطفاً دوباره تلاش کنید.\");\r\n    } finally {\r\n    }\r\n  };\r\nconst handlePurchase = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/purchase\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, productId: _id }),\r\n      });\r\n\r\n      const data = await res.json();\r\nconsole.log(data);\r\n\r\n      if (res.ok) {\r\n        window.location.reload();\r\n      } else {\r\n        alert(data.error || \"خطا در انتقال\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className={`${styles.card} flex flex-col justify-center`}>\r\n        <Image\r\n          width={1200}\r\n          height={400}\r\n          className={`${styles.cardImage} , w-full h-auto`}\r\n          src={image}\r\n          alt={name}\r\n          draggable={false}\r\n        />\r\n        <h4 className={`${styles.cardDesc} fa en`}>\r\n          <span className=\"text-[20px]\">{desc}</span>\r\n        </h4>\r\n        <hr />\r\n        <div\r\n          className={`${styles.cardPrice} , flex items-center justify-between`}\r\n        >\r\n          <span className=\"fa text-md\">قیمت: </span>\r\n          <span className=\"fa text-md\">{price} </span>\r\n        </div>\r\n        <div className=\"flex justify-end\">\r\n          <div className=\"flex  w-[8 0%]\" style={{ margin: \"50px 0\" }}>\r\n            <button\r\n              className=\"bg-red-600 fa text-white\"\r\n              style={{ padding: \"1px 5px\" }}\r\n              onClick={handleDelete}\r\n            >\r\n              حذف\r\n            </button>\r\n            <button\r\n              className=\"bg-green-600 fa text-white\"\r\n              style={{ padding: \"1px 5px\" }}\r\n              onClick={handlePurchase}\r\n            >\r\n              ثبت خرید\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartProduct;\r\n","\"use client\"\r\nimport CartProduct from '@/components/productCard/CartProduct'\r\nimport React, { useEffect, useState } from 'react'\r\ninterface Iprop {\r\n  _id: string;\r\n  name: string;\r\n  image: string;\r\n  price: string;\r\n  desc: string;\r\n  email:string;\r\n  category: string;\r\n}\r\nfunction CartItem() {\r\n    const [data , setData] = useState([])\r\n    useEffect(()=>{\r\n       async function loading(){\r\n         const res =await fetch(\"/api/shop\",{cache:'no-store'})\r\n        const data =await res.json()\r\n        const cart = data[0].cart\r\n        setData(cart )\r\n       }\r\n       loading()\r\n    },[])\r\n  return (\r\n    <ul className=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-4\">\r\n       {\r\n            data.map((item: Iprop)=>(\r\n                <li key={item._id}>\r\n                    <CartProduct {...item} />\r\n                </li>\r\n            ))\r\n       }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default CartItem"],"names":[],"mappings":"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"}