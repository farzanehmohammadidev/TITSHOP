module.exports=[10818,a=>{a.v({formBox:"form-module__mIo5rq__formBox",formContainer:"form-module__mIo5rq__formContainer",inputField:"form-module__mIo5rq__inputField",submitBtn:"form-module__mIo5rq__submitBtn"})},35034,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(10818),e=a.i(50944),f=a.i(57899);let g=()=>{let{islog:a,setIslog:g}=(0,c.useContext)(f.default),h=(0,e.useRouter)(),i=async a=>{a.preventDefault();let b=a.currentTarget,c=b.email.value,d=b.password.value;if(!c||!d)return void alert("لطفاً ایمیل و پسورد خود را وارد کنید");try{let a=await fetch("/api/auth/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:d}),credentials:"include"});(await a.json()).success?h.push("/"):alert("ایمیل یا رمز اشتباه است");let b=await fetch("/api/getToken");if(await b.json())return g(!0)}catch(a){console.error(a),alert("خطا در ورود")}};return console.log(a),(0,b.jsx)("form",{className:d.default.formContainer,onSubmit:i,children:(0,b.jsxs)("div",{className:d.default.formBox,children:[(0,b.jsx)("input",{className:d.default.inputField,type:"text",placeholder:"ایمیل خود را وارد کنید",name:"email"}),(0,b.jsx)("input",{className:d.default.inputField,type:"password",placeholder:"پسوورد خود را وارد کنید",name:"password"}),(0,b.jsx)("button",{className:d.default.submitBtn,type:"submit",children:"ورود"})]})})}}];

//# sourceMappingURL=app_86e37153._.js.map